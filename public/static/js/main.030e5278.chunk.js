(this["webpackJsonpproject-showcase-client"]=this["webpackJsonpproject-showcase-client"]||[]).push([[0],{132:function(e,t,n){},193:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(12),a=n.n(c),i=(n(132),n(23)),s=n(25),l=n(15),u=n(11),j=n(51),d=n(33),p=n(22),b=n.n(p);function m(e){return b.a.get("/projects/?sortBy="+e).then((function(e){return e.data}))}function h(e){return b.a.get("/users/".concat(e,"/projects")).then((function(e){return e.data}))}function f(e){return b.a.get("/users/".concat(e,"/upvoted")).then((function(e){return e.data}))}function g(e){return b.a.get("/projects/".concat(e)).then((function(e){return e.data}))}var O=function(e,t){return{type:"SET",payload:{projects:e,queryType:t}}},x=function(e,t,n){return{type:"SET_PROJECT_DETAILS",payload:{projects:e,queryType:t,projectDetails:n}}},y=n(4),v=n(142),C=n(7),E=n(279),I=n(264),k=n(261),w=n(263),T=n(232),S=n(262),B=n(265),N=n(150),D=n.n(N),P=(n(193),n(96)),R=n(151),F=n.n(R),L=n(268),W=n(154),A=n(267),U=n(280),q=n(2),_=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{color:"#e2f1f8"},title:{flexGrow:1},drawerList:{color:"#3F3D56"},a:{textDecoration:"none"}}}));function z(e){return Object(q.jsx)(T.a,Object(d.a)({button:!0,component:"a"},e))}var J=Object(l.f)((function(e){var t=_(),n=Object(r.useState)("popular"),c=Object(i.a)(n,2),a=c[0],l=c[1];Object(u.c)((function(e){return e.projects.projects}));Object(r.useEffect)((function(){var e=!0;return e&&(document.getElementById(a).style.borderBottom="1px solid #262626",document.getElementById(a).style.fontWeight="500"),function(){e=!1}}),[]);var p=o.a.useState({top:!1,left:!1,bottom:!1,right:!1}),h=Object(i.a)(p,2),f=h[0],g=h[1],x=o.a.useState(null),v=Object(i.a)(x,2),N=v[0],R=v[1],J=Boolean(N),V=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&g(Object(d.a)(Object(d.a)({},f),{},Object(j.a)({},e,t)))}},G=function(e){"Creators"===e?(document.getElementById("top-creators-list").style.display="block",document.getElementById("display-projects").style.display="none"):"New"!==e&&"Trending"!==e&&"Popular"!==e||(document.getElementById("top-creators-list").style.display="none",document.getElementById("display-projects").style.display="block")},M=function(e){return Object(q.jsx)("div",{className:Object(y.default)(t.list,t.drawerList,Object(j.a)({},t.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:function(){return V(e,!1)},onKeyDown:function(){return V(e,!1)},children:Object(q.jsxs)(k.a,{children:[Object(q.jsxs)(T.a,{button:!0,onClick:function(){return G("New")},children:[Object(q.jsx)(z,{href:"/",children:Object(q.jsx)(S.a,{primary:"New"})}),Object(q.jsx)(w.a,{})]}),Object(q.jsxs)(T.a,{button:!0,onClick:function(){return G("Trending")},children:[Object(q.jsx)(z,{href:"/",children:Object(q.jsx)(S.a,{primary:"Trending"})}),Object(q.jsx)(w.a,{})]}),Object(q.jsxs)(T.a,{button:!0,onClick:function(){return G("Popular")},children:[Object(q.jsx)(z,{href:"/",children:Object(q.jsx)(S.a,{primary:"Popular"})}),Object(q.jsx)(w.a,{})]}),Object(q.jsxs)(T.a,{button:!0,role:"presentation",onClick:function(){return G("Creators")},children:[Object(q.jsx)(z,{children:Object(q.jsx)(S.a,{primary:"Creators"})}),Object(q.jsx)(w.a,{})]})]})})},H=Object(C.a)((function(e){return{root:{color:"#434E5C",backgroundColor:P.a[200]}}}))(I.a),Q=Object(u.b)(),Y=function(){b.a.get("/auth/logout").then((function(e){return e.data})).then((function(e){Q({type:"LOGOUT"}),Z()}))},K=function(e){l(e),document.getElementById(e).style.borderBottom="1px solid #262626",document.getElementById(e).style.fontWeight="500","popular"===e?(document.getElementById("new").style.borderBottom="none",document.getElementById("new").style.fontWeight="400",document.getElementById("trending").style.borderBottom="none",document.getElementById("trending").style.fontWeight="400"):"trending"===e?(document.getElementById("new").style.borderBottom="none",document.getElementById("new").style.fontWeight="400",document.getElementById("popular").style.borderBottom="none",document.getElementById("popular").style.fontWeight="400"):(document.getElementById("trending").style.borderBottom="none",document.getElementById("trending").style.fontWeight="400",document.getElementById("popular").style.borderBottom="none",document.getElementById("popular").style.fontWeight="400"),m(e).then((function(t){Q(O(t,e))}))},X=function(e){R(e.currentTarget)},Z=function(){R(null)},$=function(){e.history.push("/user/".concat(JSON.parse(localStorage.getItem("User")).id)),Z()};return Object(q.jsxs)("nav",{children:[Object(q.jsx)(s.b,{id:"logo",to:"/",className:"Link",children:Object(q.jsx)("h2",{children:"PS"})}),Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{id:"new",children:Object(q.jsx)(s.b,{onClick:function(){return K("new")},activeClassName:"active",className:"Link",to:"/",children:"New"})}),Object(q.jsx)("li",{id:"trending",children:Object(q.jsx)(s.b,{onClick:function(){return K("trending")},activeClassName:"active",className:"Link",to:"/",children:"Trending"})}),Object(q.jsx)("li",{id:"popular",children:Object(q.jsx)(s.b,{onClick:function(){return K("popular")},activeClassName:"active",className:"Link",to:"/",children:"Popular"})})]}),Object(q.jsx)("div",{id:"nav-buttons",children:localStorage.getItem("User")?Object(q.jsx)(o.a.Fragment,{children:Object(q.jsx)(s.b,{activeClassName:"active",className:"Link",to:"/project/post-project",children:Object(q.jsx)(H,{className:(t.margin,t.a),children:Object(q.jsx)("a",{style:{textDecoration:"none",color:"black"},children:"Post Project"})})})}):Object(q.jsx)(o.a.Fragment,{children:Object(q.jsx)(H,{className:(t.margin,t.a),children:Object(q.jsx)("a",{style:{textDecoration:"none",color:"black"},href:"".concat("https://projstemp.herokuapp.com","/auth/google"),children:"Login"})})})}),Object(q.jsx)("div",{id:"menu",children:["right"].map((function(e){return Object(q.jsxs)(o.a.Fragment,{children:[Object(q.jsx)(I.a,{onClick:V(e,!0),children:Object(q.jsx)(B.a,{className:t.menuButton,color:"#434E5C","aria-label":"menu",children:Object(q.jsx)(D.a,{style:{color:P.a[800]}})})}),Object(q.jsx)(E.a,{anchor:e,open:f[e],onClose:V(e,!1),onClick:V(e,!1),children:M(e)})]},e)}))}),localStorage.getItem("User")?Object(q.jsx)(A.a,{children:Object(q.jsx)("div",{children:JSON.parse(localStorage.getItem("User")).profilePic?Object(q.jsxs)(o.a.Fragment,{children:[Object(q.jsx)(B.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:X,children:Object(q.jsx)(U.a,{src:JSON.parse(localStorage.getItem("User")).profilePic.url})}),Object(q.jsxs)(W.a,{id:"menu-appbar",anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:J,onClose:Z,children:[Object(q.jsx)(L.a,{onClick:function(){return $()},children:"Profile"}),Object(q.jsx)(L.a,{onClick:function(){return Y()},children:"Logout"})]})]}):Object(q.jsxs)(o.a.Fragment,{children:[Object(q.jsx)(B.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:X,color:"inherit",children:Object(q.jsx)(F.a,{})}),Object(q.jsxs)(W.a,{id:"menu-appbar",anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:J,onClose:Z,children:[Object(q.jsx)(L.a,{onClick:function(){return $()},children:"Profile"}),Object(q.jsx)(L.a,{onClick:function(){return Y()},children:"Logout"})]})]})})}):Object(q.jsx)(o.a.Fragment,{})]})})),V=n(272),G=n(281),M=n(108),H=n(99),Q=n(95),Y=n.n(Q),K=n(35);function X(){return b.a.get("users/?sortBy=popular").then((function(e){return e.data}))}var Z=function(e){return{type:"setTopCreators",payload:{data:e}}},$=Object(v.a)((function(e){e.palette;return{avatar:{borderRadius:8,backgroundColor:"#495869",position:"static"},overline:{fontSize:10,textTransform:"uppercase",letterSpacing:1,color:"#8D9CAD"},name:{fontSize:14,fontWeight:500,color:"#495869"},upvoteButton:{borderRadius:"10%",borderColor:"#E7EDF3",color:"#8D9CAD"}}})),ee=Object(l.f)((function(e){var t=$(),n=Object(u.c)((function(e){return e.projects})),r=Object(u.b)();console.log("PROPS",e);var o=function(t){e.history.push("/user/".concat(t))};return Object(q.jsxs)(K.Row,Object(d.a)(Object(d.a)({},e),{},{children:[Object(q.jsx)(K.Item,{children:Object(q.jsx)(U.a,{onClick:function(){return o(e.profile.id)},style:{cursor:"pointer"},src:e.profile.profilePic?e.profile.profilePic.url:"",className:t.avatar,children:e.profile?e.profile.username?e.profile.username[0].toUpperCase():e.profile.first_name[0].toUpperCase():""})}),Object(q.jsxs)(K.Item,{onClick:function(){return o(e.profile.id)},position:"middle",pl:{sm:.5,lg:.5},style:{cursor:"pointer"},children:[Object(q.jsx)(H.a,{className:t.overline,children:"CREATOR"}),Object(q.jsx)(H.a,{className:t.name,children:e.profile?e.profile.username?e.profile.username:e.profile.first_name+" "+e.profile.last_name:""})]}),Object(q.jsx)(K.Item,{position:"right",children:Object(q.jsxs)(I.a,{variant:"outlined",style:{cursor:"pointer"},className:t.upvoteButton,onClick:function(){return t="new"!==e.projectsQueryType?e.project.project:e.project.id,void b.a.post("/projects/vote",{project:t}).then((function(t){"MainPage"===e.from?m(n.queryType?n.queryType:"popular").then((function(t){r(O(t,e.projectsQueryType))})):h(e.profile.id).then((function(t){r(O(t,e.projectsQueryType))})),X().then((function(e){r(Z(e))}))}));var t},children:[Object(q.jsx)(Y.a,{}),Object(q.jsx)(H.a,{children:e.project.allVotes.length})]})})]}))})),te=Object(v.a)((function(){return{root:{paddingBottom:0},title:{fontSize:"1.25rem",color:"#122740"},subheader:{fontSize:"0.875rem",color:"#495869"}}})),ne=Object(l.f)((function(e){var t=te();return Object(q.jsx)(K.Row,Object(d.a)(Object(d.a)({},e),{},{children:Object(q.jsxs)(K.Item,{position:"middle",onClick:function(){return t=e.project.id,void e.history.push("/project/".concat(t));var t},style:{cursor:"pointer"},children:[Object(q.jsx)(H.a,{className:t.title,children:Object(q.jsx)("b",{children:e.project?e.project.title:""})}),Object(q.jsx)(H.a,{className:t.subheader,children:e.project?e.project.tagline:""})]})}))})),re=Object(v.a)((function(){return{card:{border:"2px solid",borderColor:"#E7EDF3",borderRadius:16,transition:"0.4s","&:hover":{borderColor:"#5B9FED"}},image:{height:"160px",width:"100%",borderRadius:8},noImage:{display:"none"}}})),oe=function(e){var t="project-image-".concat(e);document.getElementById(t).style.display="none"},ce=o.a.memo((function(e){var t=re(),n=Object(u.b)(),r=Object(u.c)((function(e){return e.projects.queryType})),o=Object(u.c)((function(e){return e.projects.projects}));console.log("PROJECT CARD PROPS",e);return Object(q.jsx)(V.a,{item:!0,xs:12,sm:"MainPage"===e.from?12:6,md:"MainPage"===e.from?6:4,children:Object(q.jsxs)(K.Column,{className:t.card,p:{xs:.5,sm:.75,lg:1},gap:{xs:1,sm:1.5,lg:2},children:[Object(q.jsx)(ne,{project:"new"!==r?e.project.proj:e.project}),Object(q.jsx)(K.Item,{onClick:function(){var t;g(t="new"!==r?e.project.project:e.project.id).then((function(c){n(x(o,r,c)),e.history.push("/project/".concat(t))}))},style:{cursor:"pointer"},children:null==e.project.image?Object(q.jsx)(M.a,{minHeight:160,maxHeight:160,bgcolor:"#F4F7FA",borderRadius:8}):Object(q.jsx)(M.a,{minHeight:160,maxHeight:160,bgcolor:"#F4F7FA",borderRadius:8,children:"new"!==r?Object(q.jsx)("img",{id:"project-image-".concat(e.project.project),className:t.image,src:"/".concat(e.project.image.url),onError:function(){oe(e.project.project)},alt:""}):Object(q.jsx)("img",{id:"project-image-".concat(e.project.id),className:t.image,src:"/".concat(e.project.image.url),onError:function(){oe(e.project.id)},alt:""})})}),Object(q.jsx)(ee,{from:e.from,profile:e.project.user?e.project.user[0]:[],project:e.project,projectsQueryType:r})]})})})),ae=Object(l.f)(ce),ie=Object(G.a)()((function(e){var t=e.width,n=Object(u.c)((function(e){return e.projects}));console.log("DISPLAY PROJECTS STATE",n);var r=n.projects?n.projects.map((function(t,r){return Object(q.jsx)(ae,{from:e.from,onClick:function(){g("new"!==n.queryState?t.project:t.id).then((function(e){console.log(e)}))},href:"/project/".concat("new"!==n.queryState?t.project:t.id),style:{cursor:"pointer"},project:t},r)})):"";return Object(q.jsx)("div",{id:"display-projects",children:Object(q.jsx)(V.a,{container:!0,spacing:{xs:1,sm:2,md:2,lg:2}[t],children:r})})})),se=(n(223),n(273)),le=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),ue=Object(l.f)((function(e){Object(u.c)((function(e){return e.users}));var t=le();return Object(q.jsxs)(T.a,{alignItems:"flex-start",children:[Object(q.jsx)(se.a,{children:Object(q.jsx)(U.a,{alt:"Cindy Baker",src:e.user[0].profilePic.url,children:e.user[0].user[0].first_name?e.user[0].user[0].first_name[0].toUpperCase():e.user[0].user[0].username[0].toUpperCase()})}),Object(q.jsx)(S.a,{secondary:Object(q.jsxs)(o.a.Fragment,{children:[Object(q.jsx)(H.a,{component:"span",className:(t.inline,"creator-name"),color:"textPrimary",style:{cursor:"pointer"},onClick:function(){return t=e.user[0].userId,void e.history.push("/user/".concat(t));var t},children:e.user[0].user[0].first_name?e.user[0].user[0].first_name+" "+e.user[0].user[0].last_name:e.user[0].user[0].username}),Object(q.jsx)(H.a,{variant:"body2",style:{fontSize:"14px"},children:e.user[0].user[0].bio?e.user[0].user[0].bio:""})]})})]})})),je=n(274),de=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,borderRadius:10,boxShadow:"0px 1px 2px 0px rgba(0,0,0,0.25)",WebkitBoxShadow:"0px 1px 2px 0px rgba(0,0,0,0.25)",MozBoxShadow:"0px 1px 2px 0px rgba(0,0,0,0.25)"},inline:{display:"inline"},header:{fontWeight:"bold",borderRadius:10},divider:{marginBottom:"0.5rem"}}})),pe=function(){var e=de(),t=Object(u.c)((function(e){return e.users})),n=t.users?t.users.map((function(e,t){return Object(q.jsx)(ue,{user:e},t)})):"";return Object(q.jsxs)(k.a,{className:e.root,subheader:Object(q.jsx)("li",{}),children:[Object(q.jsx)(je.a,{className:e.header,children:"Top Creators of the week"}),Object(q.jsx)(w.a,{component:"li",className:e.divider}),n]})},be=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),me=function(){var e=Object(u.b)();Object(r.useEffect)((function(){var t=!0;return t&&(m("popular").then((function(t){e(O(t,"popular"))})),X().then((function(t){e(Z(t))}))),function(){t=!1}}),[]);var t=be();return Object(q.jsx)("div",{className:t.root,id:"main-page",children:Object(q.jsxs)(V.a,{container:!0,spacing:3,id:"main-page-grid",children:[Object(q.jsx)(V.a,{item:!0,sm:7,md:8,id:"display-projects",children:Object(q.jsx)(ie,{from:"MainPage"})}),Object(q.jsx)(V.a,{item:!0,sm:5,md:4,id:"top-creators-list",children:Object(q.jsx)(pe,{})})]})})},he=n(276),fe=n(277),ge=n(275),Oe=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},next:{margin:e.spacing(3,0,2),backgroundColor:"#3F3D56"},prev:{margin:e.spacing(3,0,2),backgroundColor:"#FFFFFF",color:"#000000",borderColor:"#000000"}}}));var xe=function(e){var t=e.userDetails,n=t.website,r=t.github,o=t.youtube,c=Oe();return Object(q.jsxs)(ge.a,{component:"main",maxWidth:"xs",children:[Object(q.jsx)(he.a,{}),Object(q.jsxs)("div",{className:c.paper,children:[Object(q.jsx)(H.a,{component:"h1",variant:"h5",children:"Step 2 of 2"}),Object(q.jsx)("form",{className:c.form,noValidate:!0,children:Object(q.jsxs)(V.a,{container:!0,spacing:2,children:[Object(q.jsx)(V.a,{item:!0,xs:12,children:Object(q.jsx)(fe.a,{autoComplete:"website",type:"url",name:"website",variant:"outlined",required:!0,fullWidth:!0,id:"website",label:"Live Link",autoFocus:!0,defaultValue:n,onChange:e.handleChange})}),Object(q.jsx)(V.a,{item:!0,xs:12,children:Object(q.jsx)(fe.a,{variant:"outlined",required:"true",fullWidth:!0,id:"github",label:"Github",name:"github",autoComplete:"github",defaultValue:r,onChange:e.handleChange})}),Object(q.jsx)(V.a,{item:!0,xs:12,children:Object(q.jsx)(fe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"youtube",label:"Youtube",name:"youtube",autoComplete:"youtube",defaultValue:o,onChange:e.handleChange})}),Object(q.jsx)(V.a,{item:!0,justify:"flex-start",children:Object(q.jsx)(I.a,{fullWidth:!0,variant:"outlined",className:c.prev,onClick:function(t){t.preventDefault(),e.prevStep()},children:"Back"})}),Object(q.jsx)(V.a,{item:!0,justify:"flex-start",children:Object(q.jsx)(I.a,{fullWidth:!0,type:"submit",variant:"contained",className:c.next,onClick:e.postProject,color:"primary",children:"Submit"})})]})})]})]})},ye=n(152),ve=n.n(ye),Ce=n(97),Ee=(n(224),Object(v.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#3F3D56"},imgPreview:{width:"300px",height:"250px"}}})));var Ie=function(e){var t=Ee(),n=Object(C.a)((function(e){return{root:{color:"#434E5C",backgroundColor:P.a[250]}}}))(I.a),o=Object(r.useState)({image:"",imageDetails:""}),c=Object(i.a)(o,2),a=c[0],s=c[1],l=e.userDetails,u=l.tagline,j=l.description,d=l.title,p=Object(r.useRef)(null);return Object(q.jsxs)(ge.a,{component:"main",maxWidth:"xs",children:[Object(q.jsx)(he.a,{}),Object(q.jsxs)("div",{className:t.paper,children:[Object(q.jsx)(H.a,{component:"h1",variant:"h5",children:"Step 1 of 2"}),Object(q.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(q.jsxs)(V.a,{container:!0,spacing:2,children:[Object(q.jsx)(V.a,{item:!0,xs:12,children:Object(q.jsx)(fe.a,{variant:"outlined",required:"true",fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"Title",defaultValue:d,onChange:e.handleChange})}),Object(q.jsx)(V.a,{item:!0,xs:12,children:Object(q.jsx)(fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"tagline",label:"Tagline",type:"tagline",id:"tagline",autoComplete:"current-tagline",defaultValue:u,onChange:e.handleChange})}),Object(q.jsx)(V.a,{item:!0,xs:12,children:Object(q.jsx)(fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"description",label:"Description",type:"description",id:"description",autoComplete:"current-description",defaultValue:j,onChange:e.handleChange})}),Object(q.jsx)("input",{ref:p,type:"file",hidden:!0,onChange:function(t){return function(t){if(console.log("EVENT",t),t.target.files&&t.target.files[0]){e.onImageChange(t);var n=new FileReader;n.onload=function(e){s({image:e.target.result,imageDetails:t.target.files[0]}),document.getElementById("done-icon").style.display="block"},n.readAsDataURL(t.target.files[0])}}(t)},id:"image-input"}),Object(q.jsxs)("div",{id:"image-upload-section",children:[Object(q.jsx)("label",{htmlFor:"image-input",style:{marginTop:"8px",marginLeft:"8px"},children:Object(q.jsx)(n,{onClick:function(){p.current.click()},children:"Chose Image"})}),Object(q.jsx)("p",{style:{display:"flex",alignItems:"center",marginTop:"8px",marginLeft:"6px"},children:a.imageDetails.name}),Object(q.jsx)(ve.a,{id:"done-icon",style:{color:Ce.a[800],display:"none"}})]}),Object(q.jsx)("br",{})]}),Object(q.jsx)(I.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),e.nextStep()},children:"Next"})]})]})]})},ke=n(22),we=Object(l.f)((function(e){var t=Object(r.useState)(1),n=Object(i.a)(t,2),o=n[0],c=n[1],a=Object(u.b)(),s=Object(u.c)((function(e){return e.projects.queryType})),l=Object(u.c)((function(e){return e.projects.projects})),p=Object(r.useState)({title:"",tagline:"",description:"",website:"",github:"",youtube:""}),b=Object(i.a)(p,2),m=b[0],h=b[1],f=Object(r.useState)({image:""}),O=Object(i.a)(f,2),y=O[0],v=O[1],C=function(){c(o+1)},E=function(e){h(Object(d.a)(Object(d.a)({},m),{},Object(j.a)({},e.target.name,e.target.value)))};switch(o){case 1:return Object(q.jsx)(Ie,{nextStep:C,userDetails:m,handleChange:E,onImageChange:function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;v({image:e.target.files[0]}),t.readAsDataURL(e.target.files[0]),console.log(y)}},imageDetails:y});case 2:return Object(q.jsx)(xe,{nextStep:C,prevStep:function(){c(o-1)},userDetails:m,handleChange:E,postProject:function(t){t.preventDefault();var n=!0;for(var r in m)"youtube"!==r&&"website"!==r&&""===m[r]&&(n=!1);if(n&&""!==y.image){var o=new FormData;for(var c in o.append("image",y.image),m)o.append(c,m[c]);ke.post("/projects/",o,{headers:{"content-type":"multipart/form-data"}}).then((function(t){g(t.data.project.id).then((function(n){a(x(l,s,n)),alert("The file is successfully uploaded"),e.history.push("/project/".concat(t.data.project.id))})).catch((function(e){return console.log("ERROR",e)}))})).catch((function(e){console.log(e)}))}else alert("No form values can be empty")}});default:console.log("This is a multi-step form built with React.")}})),Te=n(153),Se=n.n(Te);n(228);var Be=Object(l.f)((function(e){var t=Object(u.b)();Object(r.useEffect)((function(){var n=!0;return n&&g(e.match.params.projectId).then((function(e){t(x(c,a,e))})).catch((function(e){return console.log("ERROR",e)})),function(){n=!1}}),[]);var n=Object(u.c)((function(e){return e.projects.projectDetails})),c=Object(u.c)((function(e){return e.projects.projects})),a=Object(u.c)((function(e){return e.projects.queryType}));console.log("PROJECT DETAILS",n);var i={url:n?"".concat("https://projstemp.herokuapp.com/project","/").concat(n.id):"",identifier:n?n.id:"",title:"Project Showcase"},s=Object(v.a)((function(e){return{card:{border:"2px solid",borderColor:"#E7EDF3",borderRadius:16,transition:"0.4s","&:hover":{borderColor:"#5B9FED"}},image:{height:"100%",width:"100%",borderRadius:8},noImage:{display:"none"},box:{minWidth:"52vw",minHeight:"42vh"},root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}))();return console.log("PROJECT DETAILS",n),Object(q.jsxs)("div",{id:"project-details",children:[Object(q.jsx)("h1",{children:n?n.title:""}),Object(q.jsx)("br",{}),Object(q.jsxs)(V.a,{container:!0,spacing:3,children:[Object(q.jsxs)(V.a,{item:!0,md:8,children:[Object(q.jsx)(M.a,{bgcolor:"#F4F7FA",className:s.box,borderRadius:8,children:n?Object(q.jsx)("img",{id:"img",className:s.image,src:"/".concat(n&&n.image?n.image.url:""),alt:"",onError:function(){document.getElementById("img").style.display="none"}}):""}),Object(q.jsx)("br",{}),Object(q.jsxs)(V.a,{container:!0,spacing:3,children:[Object(q.jsx)(V.a,{style:{display:"flex",alignItems:"center"},item:!0,xs:8,children:Object(q.jsx)("h3",{children:n?n.tagline:""})}),Object(q.jsx)(V.a,{item:!0,xs:4,children:Object(q.jsx)(K.Row,{children:Object(q.jsx)(K.Item,{position:"right",children:Object(q.jsxs)(I.a,{onClick:function(){return e=n.id,void b.a.post("/projects/vote",{project:e}).then((function(n){console.log("RESPONSE",n),g(e).then((function(e){console.log("DATA",e),t(x(c,a,e))}))}));var e},variant:"outlined",children:[Object(q.jsx)(Y.a,{}),Object(q.jsx)(H.a,{children:n?n.allVotes.length:""})]})})})})]}),Object(q.jsx)("br",{}),Object(q.jsx)("p",{children:n?n.description:""})]}),Object(q.jsx)(V.a,{item:!0,md:4,children:Object(q.jsxs)(T.a,{alignItems:"flex-start",style:{paddingTop:0},children:[Object(q.jsx)(se.a,{style:{marginTop:0},children:Object(q.jsx)(U.a,{alt:"Cindy Baker",src:n?n.user[0].profilePic.url:"",children:n?n.user[0].first_name?n.user[0].first_name[0].toUpperCase():n.user[0].username[0].toUpperCase():""})}),Object(q.jsx)(S.a,{style:{marginTop:-3},secondary:Object(q.jsxs)(o.a.Fragment,{children:[Object(q.jsx)(H.a,{component:"span",className:s.inline,color:"textPrimary",style:{cursor:"pointer"},onClick:function(){return t=n?n.user[0].id:"",void e.history.push("/user/".concat(t));var t},children:n?n.user[0].first_name?n.user[0].first_name+" "+n.user[0].last_name:n.user[0].username:""}),Object(q.jsx)(H.a,{variant:"body2",children:n?n.user[0].bio?n.user[0].bio:"CREATOR":""})]})})]})})]}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("hr",{style:{borderTop:"1px"}}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(Se.a.DiscussionEmbed,{shortname:"projectshowcase",config:i})]})})),Ne=n(21),De=n(271),Pe=(n(229),Object(l.f)((function(e){var t=Object(r.useState)("projects-tab"),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(u.b)();Object(r.useEffect)((function(){console.log("here");var t,n=!0;return n&&(t=e.match.params.userId,b.a.get("/users/".concat(t)).then((function(e){return e.data}))).then((function(e){s(function(e){return{type:"setUserProfile",payload:{data:e}}}(e)),"projects-tab"===c?h(e.id).then((function(e){s(O(e,"popular"))})):f(l.id).then((function(e){s(O(e,"popular"))}))})).catch((function(e){return console.log("Error",e)})),function(){n=!1}}),[]);var l=Object(u.c)((function(e){return e.users.profile})),j=Object(v.a)((function(e){return{root:{display:"flex",backgroundColor:"#F4F7FA",minHeight:"45vh",boxShadow:"none"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:151},controls:{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:38},img:{width:"13.5vw",height:"13.5vw",borderRadius:200},inline:{display:"inline"},listItemText:{marginLeft:"5%",marginTop:"2%"},bio:{marginTop:"6px",marginLeft:"1px"}}}))(),d=Object(Ne.a)();d.typography.h4={fontSize:"28px","@media (max-width:976px)":{fontSize:"25px"},"@media (max-width:425px)":{fontSize:"20px"}},d.typography.body2={fontSize:"22px","@media (max-width:976px)":{fontSize:"18px"},"@media (max-width:425px)":{fontSize:"15px"}};var p=function(e){a(e),"projects-tab"==e?(document.getElementById("projects-tab").style.borderBottom="1px solid #262626",document.getElementById("upvoted-tab").style.borderBottom="none"):(f(l.id).then((function(e){s(O(e,"popular"))})),document.getElementById("upvoted-tab").style.borderBottom="1px solid #262626",document.getElementById("projects-tab").style.borderBottom="none")};return Object(q.jsxs)("div",{id:"all-components",children:[Object(q.jsx)("div",{children:Object(q.jsxs)(T.a,{alignItems:"flex-start",children:[Object(q.jsx)(se.a,{children:Object(q.jsx)(U.a,{className:j.img,src:l?l.profilePic.url:""})}),Object(q.jsx)(S.a,{className:j.listItemText,secondary:Object(q.jsx)(o.a.Fragment,{children:Object(q.jsxs)(De.a,{theme:d,children:[Object(q.jsx)(H.a,{component:"span",className:j.inline,color:"textPrimary",variant:"h4",children:l?l.first_name+" "+l.last_name:""}),Object(q.jsx)(H.a,{variant:"body2",className:j.bio,children:l&&null!=l.bio?l.bio:"CREATOR"})]})})})]})}),Object(q.jsx)("div",{id:"profile-nav",children:Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{style:{marginLeft:"0.75rem",borderBottom:"1px solid #262626"},id:"projects-tab",onClick:function(){return p("projects-tab")},children:"Projects"}),Object(q.jsx)("li",{style:{marginLeft:"2rem"},id:"upvoted-tab",onClick:function(){return p("upvoted-tab")},children:"Upvoted"})]})}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("div",{id:"profile-nav-content",children:Object(q.jsx)(ie,{from:"Profile"})})]})})));var Re=function(){var e=Object(u.b)(),t=Object(r.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){var t=!0;return t&&b.a.get("/auth/checkLogin").then((function(e){return e.data})).then((function(t){t.id&&(e({type:"LOGIN",payload:t}),c(!0))})),function(){t=!1}}),[o]),Object(q.jsx)(s.a,{children:Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(J,{}),Object(q.jsxs)(l.c,{children:[Object(q.jsx)(l.a,{exact:!0,path:"/",component:me}),Object(q.jsx)(l.a,{exact:!0,path:"/project/post-project",component:we}),Object(q.jsx)(l.a,{exact:!0,path:"/project/:projectId",component:Be}),Object(q.jsx)(l.a,{exact:!0,path:"/user/:userId",component:Pe})]})]})})},Fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))},Le=n(59),We={user:void 0,loggedIn:void 0},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return e={user:t.payload,loggedIn:!0},localStorage.setItem("User",JSON.stringify(t.payload)),e;case"LOGOUT":return e={user:void 0,loggedIn:!1},localStorage.removeItem("User"),e;default:return e}},Ue={projects:void 0,queryType:"popular",projectDetails:void 0},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return e={projects:t.payload.projects,queryType:t.payload.queryType};case"SET_PROJECT_DETAILS":return e={projects:t.payload.projects,queryType:t.payload.queryType,projectDetails:t.payload.projectDetails};default:return e}},_e={users:void 0,profile:void 0},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setTopCreators":return e={users:t.payload.data};case"setUserProfile":return console.log("IN PROFILE REDUCER"),e={profile:t.payload.data};default:return e}},Je=Object(Le.b)({account:Ae,projects:qe,users:ze}),Ve=Object(Le.c)(Je);a.a.render(Object(q.jsx)(u.a,{store:Ve,children:Object(q.jsx)(Re,{})}),document.getElementById("root")),Fe()}},[[230,1,2]]]);
//# sourceMappingURL=main.030e5278.chunk.js.map