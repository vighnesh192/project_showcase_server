(this["webpackJsonpproject-showcase-client"]=this["webpackJsonpproject-showcase-client"]||[]).push([[0],{132:function(e,t,n){},175:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(12),i=n.n(c),a=(n(132),n(23)),s=n(15),l=n(10),u=n(50),j=n(31),d=n(32);function p(e){return fetch("/projects/?sortBy="+e).then((function(e){return e.json()}))}function b(e){return fetch("/users/".concat(e,"/projects")).then((function(e){return e.json()}))}function m(e){return fetch("/users/".concat(e,"/upvoted")).then((function(e){return e.json()}))}function h(e){return fetch("/projects/".concat(e)).then((function(e){return e.json()}))}var f=function(e,t){return{type:"SET",payload:{projects:e,queryType:t}}},g=function(e,t,n){return{type:"SET_PROJECT_DETAILS",payload:{projects:e,queryType:t,projectDetails:n}}},O=n(4),x=n(134),y=n(7),v=n(279),C=n(264),E=n(261),I=n(263),T=n(232),w=n(262),k=n(265),S=n(150),N=n.n(S),B=(n(175),n(96)),D=n(151),R=n.n(D),F=n(268),P=n(154),L=n(267),A=n(280),W=n(2),U=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{color:"#e2f1f8"},title:{flexGrow:1},drawerList:{color:"#3F3D56"},a:{textDecoration:"none"}}}));function q(e){return Object(W.jsx)(T.a,Object(d.a)({button:!0,component:"a"},e))}var _=Object(s.f)((function(e){var t=U(),n=Object(r.useState)("popular"),c=Object(j.a)(n,2),i=c[0],s=c[1];Object(r.useEffect)((function(){var e=!0;return e&&(document.getElementById(i).style.borderBottom="1px solid #262626",document.getElementById(i).style.fontWeight="500"),function(){e=!1}}),[]);var b=o.a.useState({top:!1,left:!1,bottom:!1,right:!1}),m=Object(j.a)(b,2),h=m[0],g=m[1],x=o.a.useState(null),S=Object(j.a)(x,2),D=S[0],_=S[1],J=Boolean(D),z=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&g(Object(d.a)(Object(d.a)({},h),{},Object(u.a)({},e,t)))}},G=function(e){return Object(W.jsx)("div",{className:Object(O.default)(t.list,t.drawerList,Object(u.a)({},t.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:function(){return z(e,!1)},onKeyDown:function(){return z(e,!1)},children:Object(W.jsxs)(E.a,{children:[Object(W.jsxs)(T.a,{button:!0,children:[Object(W.jsx)(q,{href:"/",children:Object(W.jsx)(w.a,{primary:"New"})}),Object(W.jsx)(I.a,{})]}),Object(W.jsxs)(T.a,{button:!0,children:[Object(W.jsx)(q,{href:"/",children:Object(W.jsx)(w.a,{primary:"Trending"})}),Object(W.jsx)(I.a,{})]}),Object(W.jsxs)(T.a,{button:!0,children:[Object(W.jsx)(q,{href:"/",children:Object(W.jsx)(w.a,{primary:"Popular"})}),Object(W.jsx)(I.a,{})]})]})})},V=Object(y.a)((function(e){return{root:{color:"#434E5C",backgroundColor:B.a[200]}}}))(C.a),M=Object(l.b)(),H=function(){fetch("/auth/logout").then((function(e){return e.json()})).then((function(e){M({type:"LOGOUT"}),Y()}))},Q=function(e){s(e),document.getElementById(e).style.borderBottom="1px solid #262626",document.getElementById(e).style.fontWeight="500","popular"===e?(document.getElementById("new").style.borderBottom="none",document.getElementById("new").style.fontWeight="400",document.getElementById("trending").style.borderBottom="none",document.getElementById("trending").style.fontWeight="400"):"trending"===e?(document.getElementById("new").style.borderBottom="none",document.getElementById("new").style.fontWeight="400",document.getElementById("popular").style.borderBottom="none",document.getElementById("popular").style.fontWeight="400"):(document.getElementById("trending").style.borderBottom="none",document.getElementById("trending").style.fontWeight="400",document.getElementById("popular").style.borderBottom="none",document.getElementById("popular").style.fontWeight="400"),p(e).then((function(t){M(f(t,e))}))},K=function(e){_(e.currentTarget)},Y=function(){_(null)},X=function(){e.history.push("/user/".concat(JSON.parse(localStorage.getItem("User")).id)),Y()};return Object(W.jsxs)("nav",{children:[Object(W.jsx)(a.b,{id:"logo",to:"/",className:"Link",children:Object(W.jsx)("h2",{children:"PS"})}),Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{id:"new",children:Object(W.jsx)(a.b,{onClick:function(){return Q("new")},activeClassName:"active",className:"Link",to:"/",children:"New"})}),Object(W.jsx)("li",{id:"trending",children:Object(W.jsx)(a.b,{onClick:function(){return Q("trending")},activeClassName:"active",className:"Link",to:"/",children:"Trending"})}),Object(W.jsx)("li",{id:"popular",children:Object(W.jsx)(a.b,{onClick:function(){return Q("popular")},activeClassName:"active",className:"Link",to:"/",children:"Popular"})})]}),Object(W.jsx)("div",{id:"nav-buttons",children:localStorage.getItem("User")?Object(W.jsx)(o.a.Fragment,{children:Object(W.jsx)(a.b,{activeClassName:"active",className:"Link",to:"/project/post-project",children:Object(W.jsx)(V,{className:(t.margin,t.a),children:Object(W.jsx)("a",{style:{textDecoration:"none",color:"black"},children:"Post Project"})})})}):Object(W.jsx)(o.a.Fragment,{children:Object(W.jsx)(V,{className:(t.margin,t.a),children:Object(W.jsx)("a",{style:{textDecoration:"none",color:"black"},href:"".concat("https://projstemp.herokuapp.com","/auth/google"),children:"Login"})})})}),Object(W.jsx)("div",{id:"menu",children:["right"].map((function(e){return Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(C.a,{onClick:z(e,!0),children:Object(W.jsx)(k.a,{className:t.menuButton,color:"#434E5C","aria-label":"menu",children:Object(W.jsx)(N.a,{style:{color:B.a[800]}})})}),Object(W.jsx)(v.a,{anchor:e,open:h[e],onClose:z(e,!1),children:G(e)})]},e)}))}),localStorage.getItem("User")?Object(W.jsx)(L.a,{children:Object(W.jsx)("div",{children:JSON.parse(localStorage.getItem("User")).profilePic?Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:K,children:Object(W.jsx)(A.a,{src:JSON.parse(localStorage.getItem("User")).profilePic.url})}),Object(W.jsxs)(P.a,{id:"menu-appbar",anchorEl:D,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:J,onClose:Y,children:[Object(W.jsx)(F.a,{onClick:function(){return X()},children:"Profile"}),Object(W.jsx)(F.a,{onClick:function(){return H()},children:"Logout"})]})]}):Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:K,color:"inherit",children:Object(W.jsx)(R.a,{})}),Object(W.jsxs)(P.a,{id:"menu-appbar",anchorEl:D,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:J,onClose:Y,children:[Object(W.jsx)(F.a,{onClick:function(){return X()},children:"Profile"}),Object(W.jsx)(F.a,{onClick:function(){return H()},children:"Logout"})]})]})})}):Object(W.jsx)(o.a.Fragment,{})]})})),J=n(272),z=n(281),G=n(108),V=n(99),M=n(95),H=n.n(M),Q=n(34),K=n(74),Y=n.n(K);function X(){return fetch("users/?sortBy=popular").then((function(e){return e.json()}))}var Z=function(e){return{type:"setTopCreators",payload:{data:e}}},$=Object(x.a)((function(e){e.palette;return{avatar:{borderRadius:8,backgroundColor:"#495869",position:"static"},overline:{fontSize:10,textTransform:"uppercase",letterSpacing:1,color:"#8D9CAD"},name:{fontSize:14,fontWeight:500,color:"#495869"},upvoteButton:{borderRadius:"10%",borderColor:"#E7EDF3",color:"#8D9CAD"}}})),ee=Object(s.f)((function(e){var t=$(),n=Object(l.c)((function(e){return e.projects})),r=Object(l.b)();console.log("PROPS",e);var o=function(t){e.history.push("/user/".concat(t))};return Object(W.jsxs)(Q.Row,Object(d.a)(Object(d.a)({},e),{},{children:[Object(W.jsx)(Q.Item,{children:Object(W.jsx)(A.a,{onClick:function(){return o(e.profile.id)},style:{cursor:"pointer"},src:e.profile.profilePic?e.profile.profilePic.url:"",className:t.avatar,children:e.profile?e.profile.username?e.profile.username[0].toUpperCase():e.profile.first_name[0].toUpperCase():""})}),Object(W.jsxs)(Q.Item,{onClick:function(){return o(e.profile.id)},position:"middle",pl:{sm:.5,lg:.5},style:{cursor:"pointer"},children:[Object(W.jsx)(V.a,{className:t.overline,children:"CREATOR"}),Object(W.jsx)(V.a,{className:t.name,children:e.profile?e.profile.username?e.profile.username:e.profile.first_name+" "+e.profile.last_name:""})]}),Object(W.jsx)(Q.Item,{position:"right",children:Object(W.jsxs)(C.a,{variant:"outlined",style:{cursor:"pointer"},className:t.upvoteButton,onClick:function(){return t="new"!==e.projectsQueryType?e.project.project:e.project.id,void Y.a.post("/projects/vote",{project:t}).then((function(t){"MainPage"===e.from?p(n.queryType?n.queryType:"popular").then((function(t){r(f(t,e.projectsQueryType))})):b(e.profile.id).then((function(t){r(f(t,e.projectsQueryType))})),X().then((function(e){r(Z(e))}))}));var t},children:[Object(W.jsx)(H.a,{}),Object(W.jsx)(V.a,{children:e.project.allVotes.length})]})})]}))})),te=Object(x.a)((function(){return{root:{paddingBottom:0},title:{fontSize:"1.25rem",color:"#122740"},subheader:{fontSize:"0.875rem",color:"#495869"}}})),ne=Object(s.f)((function(e){var t=te(),n=Object(l.c)((function(e){return e.projects.queryType})),r=Object(l.c)((function(e){return e.projects.projects})),o=Object(l.b)();return Object(W.jsx)(Q.Row,Object(d.a)(Object(d.a)({},e),{},{children:Object(W.jsxs)(Q.Item,{position:"middle",onClick:function(){return t=e.project.id,console.log("IN HANDLE PROJECT CARD CLICK",e,e.project.id),void h(e.project.id).then((function(c){console.log("DATA",c),o(g(r,n,c)),e.history.push("/project/".concat(t))})).catch((function(e){return console.log("ERROR",e)}));var t},style:{cursor:"pointer"},children:[Object(W.jsx)(V.a,{className:t.title,children:Object(W.jsx)("b",{children:e.project?e.project.title:""})}),Object(W.jsx)(V.a,{className:t.subheader,children:e.project?e.project.tagline:""})]})}))})),re=Object(x.a)((function(){return{card:{border:"2px solid",borderColor:"#E7EDF3",borderRadius:16,transition:"0.4s","&:hover":{borderColor:"#5B9FED"}},image:{height:"160px",width:"100%",borderRadius:8},noImage:{display:"none"}}})),oe=function(e){var t="project-image-".concat(e);document.getElementById(t).style.display="none"},ce=o.a.memo((function(e){var t=re(),n=Object(l.b)(),r=Object(l.c)((function(e){return e.projects.queryType})),o=Object(l.c)((function(e){return e.projects.projects}));console.log("PROJECT CARD PROPS",e);return Object(W.jsx)(J.a,{item:!0,xs:12,sm:6,md:"MainPage"===e.from?6:4,children:Object(W.jsxs)(Q.Column,{className:t.card,p:{xs:.5,sm:.75,lg:1},gap:{xs:1,sm:1.5,lg:2},children:[Object(W.jsx)(ne,{project:"new"!==r?e.project.proj:e.project}),Object(W.jsx)(Q.Item,{onClick:function(){var t;h(t="new"!==r?e.project.project:e.project.id).then((function(c){n(g(o,r,c)),e.history.push("/project/".concat(t))}))},style:{cursor:"pointer"},children:null==e.project.image?Object(W.jsx)(G.a,{minHeight:160,maxHeight:160,bgcolor:"#F4F7FA",borderRadius:8}):Object(W.jsx)(G.a,{minHeight:160,maxHeight:160,bgcolor:"#F4F7FA",borderRadius:8,children:"new"!==r?Object(W.jsx)("img",{id:"project-image-".concat(e.project.project),className:t.image,src:"/".concat(e.project.image.url),onError:function(){oe(e.project.project)},alt:""}):Object(W.jsx)("img",{id:"project-image-".concat(e.project.id),className:t.image,src:"/".concat(e.project.image.url),onError:function(){oe(e.project.id)},alt:""})})}),Object(W.jsx)(ee,{from:e.from,profile:e.project.user?e.project.user[0]:[],project:e.project,projectsQueryType:r})]})})})),ie=Object(s.f)(ce),ae=Object(z.a)()((function(e){var t=e.width,n=Object(l.c)((function(e){return e.projects}));console.log("DISPLAY PROJECTS STATE",n);var r=n.projects?n.projects.map((function(t,r){return Object(W.jsx)(ie,{from:e.from,onClick:function(){h("new"!==n.queryState?t.project:t.id).then((function(e){console.log(e)}))},href:"/project/".concat("new"!==n.queryState?t.project:t.id),style:{cursor:"pointer"},project:t},r)})):"";return Object(W.jsx)("div",{id:"display-projects",children:Object(W.jsx)(J.a,{container:!0,spacing:{xs:1,sm:2,md:2,lg:2}[t],children:r})})})),se=(n(223),n(273)),le=Object(x.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),ue=Object(s.f)((function(e){Object(l.c)((function(e){return e.users}));var t=le();return Object(W.jsxs)(T.a,{alignItems:"flex-start",children:[Object(W.jsx)(se.a,{children:Object(W.jsx)(A.a,{alt:"Cindy Baker",src:e.user[0].profilePic.url,children:e.user[0].user[0].first_name?e.user[0].user[0].first_name[0].toUpperCase():e.user[0].user[0].username[0].toUpperCase()})}),Object(W.jsx)(w.a,{secondary:Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(V.a,{component:"span",className:(t.inline,"creator-name"),color:"textPrimary",style:{cursor:"pointer"},onClick:function(){return t=e.user[0].userId,void e.history.push("/user/".concat(t));var t},children:e.user[0].user[0].first_name?e.user[0].user[0].first_name+" "+e.user[0].user[0].last_name:e.user[0].user[0].username}),Object(W.jsx)(V.a,{variant:"body2",children:e.user[0].user[0].bio?e.user[0].user[0].bio:""})]})})]})})),je=n(274),de=Object(x.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,borderRadius:10,boxShadow:"0px 1px 2px 0px rgba(0,0,0,0.25)",WebkitBoxShadow:"0px 1px 2px 0px rgba(0,0,0,0.25)",MozBoxShadow:"0px 1px 2px 0px rgba(0,0,0,0.25)"},inline:{display:"inline"},header:{fontWeight:"bold",borderRadius:10},divider:{marginBottom:"0.5rem"}}})),pe=function(){var e=de(),t=Object(l.c)((function(e){return e.users})),n=t.users?t.users.map((function(e,t){return Object(W.jsx)(ue,{user:e},t)})):"";return Object(W.jsxs)(E.a,{className:e.root,subheader:Object(W.jsx)("li",{}),children:[Object(W.jsx)(je.a,{className:e.header,children:"Top Creators of the week"}),Object(W.jsx)(I.a,{component:"li",className:e.divider}),n]})},be=Object(x.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),me=function(){var e=Object(l.b)();Object(r.useEffect)((function(){var t=!0;return t&&(p("popular").then((function(t){e(f(t,"popular"))})),X().then((function(t){e(Z(t))}))),function(){t=!1}}),[]);var t=be();return Object(W.jsx)("div",{className:t.root,id:"main-page",children:Object(W.jsxs)(J.a,{container:!0,spacing:3,children:[Object(W.jsx)(J.a,{item:!0,md:8,children:Object(W.jsx)(ae,{from:"MainPage"})}),Object(W.jsx)(J.a,{item:!0,md:4,children:Object(W.jsx)(pe,{})})]})})},he=n(276),fe=n(277),ge=n(275),Oe=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},next:{margin:e.spacing(3,0,2),backgroundColor:"#3F3D56"},prev:{margin:e.spacing(3,0,2),backgroundColor:"#FFFFFF",color:"#000000",borderColor:"#000000"}}}));var xe=function(e){var t=e.userDetails,n=t.website,r=t.github,o=t.youtube,c=Oe();return Object(W.jsxs)(ge.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(he.a,{}),Object(W.jsxs)("div",{className:c.paper,children:[Object(W.jsx)(V.a,{component:"h1",variant:"h5",children:"Step 2 of 2"}),Object(W.jsx)("form",{className:c.form,noValidate:!0,children:Object(W.jsxs)(J.a,{container:!0,spacing:2,children:[Object(W.jsx)(J.a,{item:!0,xs:12,children:Object(W.jsx)(fe.a,{autoComplete:"website",type:"url",name:"website",variant:"outlined",required:!0,fullWidth:!0,id:"website",label:"Live Link",autoFocus:!0,defaultValue:n,onChange:e.handleChange})}),Object(W.jsx)(J.a,{item:!0,xs:12,children:Object(W.jsx)(fe.a,{variant:"outlined",required:"true",fullWidth:!0,id:"github",label:"Github",name:"github",autoComplete:"github",defaultValue:r,onChange:e.handleChange})}),Object(W.jsx)(J.a,{item:!0,xs:12,children:Object(W.jsx)(fe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"youtube",label:"Youtube",name:"youtube",autoComplete:"youtube",defaultValue:o,onChange:e.handleChange})}),Object(W.jsx)(J.a,{item:!0,justify:"flex-start",children:Object(W.jsx)(C.a,{fullWidth:!0,variant:"outlined",className:c.prev,onClick:function(t){t.preventDefault(),e.prevStep()},children:"Back"})}),Object(W.jsx)(J.a,{item:!0,justify:"flex-start",children:Object(W.jsx)(C.a,{fullWidth:!0,type:"submit",variant:"contained",className:c.next,onClick:e.postProject,color:"primary",children:"Submit"})})]})})]})]})},ye=n(152),ve=n.n(ye),Ce=n(97),Ee=(n(224),Object(x.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#3F3D56"},imgPreview:{width:"300px",height:"250px"}}})));var Ie=function(e){var t=Ee(),n=Object(y.a)((function(e){return{root:{color:"#434E5C",backgroundColor:B.a[250]}}}))(C.a),o=Object(r.useState)({image:"",imageDetails:""}),c=Object(j.a)(o,2),i=c[0],a=c[1],s=e.userDetails,l=s.tagline,u=s.description,d=s.title;return Object(W.jsxs)(ge.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(he.a,{}),Object(W.jsxs)("div",{className:t.paper,children:[Object(W.jsx)(V.a,{component:"h1",variant:"h5",children:"Step 1 of 2"}),Object(W.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(W.jsxs)(J.a,{container:!0,spacing:2,children:[Object(W.jsx)(J.a,{item:!0,xs:12,children:Object(W.jsx)(fe.a,{variant:"outlined",required:"true",fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"Title",defaultValue:d,onChange:e.handleChange})}),Object(W.jsx)(J.a,{item:!0,xs:12,children:Object(W.jsx)(fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"tagline",label:"Tagline",type:"tagline",id:"tagline",autoComplete:"current-tagline",defaultValue:l,onChange:e.handleChange})}),Object(W.jsx)(J.a,{item:!0,xs:12,children:Object(W.jsx)(fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"description",label:"Description",type:"description",id:"description",autoComplete:"current-description",defaultValue:u,onChange:e.handleChange})}),Object(W.jsx)("input",{type:"file",hidden:!0,onChange:function(t){return function(t){if(t.target.files&&t.target.files[0]){e.onImageChange(t);var n=new FileReader;n.onload=function(e){a({image:e.target.result,imageDetails:t.target.files[0]}),document.getElementById("done-icon").style.display="block",console.log("IMAGE:-",e.target.result),console.log("FILE",t.target.files[0]),console.log("STATE IMAGE",i)},n.readAsDataURL(t.target.files[0])}}(t)},id:"image-input"}),Object(W.jsxs)("div",{id:"image-upload-section",children:[Object(W.jsx)("label",{htmlFor:"image-input",style:{marginTop:"8px",marginLeft:"8px"},children:Object(W.jsx)(n,{children:"Chose Image"})}),Object(W.jsx)("p",{style:{display:"flex",alignItems:"center",marginTop:"8px",marginLeft:"6px"},children:i.imageDetails.name}),Object(W.jsx)(ve.a,{id:"done-icon",style:{color:Ce.a[800],display:"none"}})]}),Object(W.jsx)("br",{})]}),Object(W.jsx)(C.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),e.nextStep()},children:"Next"})]})]})]})},Te=n(74),we=Object(s.f)((function(e){var t=Object(r.useState)(1),n=Object(j.a)(t,2),o=n[0],c=n[1],i=Object(l.b)(),a=Object(l.c)((function(e){return e.projects.queryType})),s=Object(l.c)((function(e){return e.projects.projects})),p=Object(r.useState)({title:"",tagline:"",description:"",website:"",github:"",youtube:""}),b=Object(j.a)(p,2),m=b[0],f=b[1],O=Object(r.useState)({image:""}),x=Object(j.a)(O,2),y=x[0],v=x[1],C=function(){c(o+1)},E=function(e){f(Object(d.a)(Object(d.a)({},m),{},Object(u.a)({},e.target.name,e.target.value)))};switch(o){case 1:return Object(W.jsx)(Ie,{nextStep:C,userDetails:m,handleChange:E,onImageChange:function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;v({image:e.target.files[0]}),t.readAsDataURL(e.target.files[0]),console.log(y)}},imageDetails:y});case 2:return Object(W.jsx)(xe,{nextStep:C,prevStep:function(){c(o-1)},userDetails:m,handleChange:E,postProject:function(t){t.preventDefault();var n=!0;for(var r in m)"youtube"!==r&&"website"!==r&&""===m[r]&&(n=!1);if(n&&""!==y.image){var o=new FormData;for(var c in o.append("image",y.image),m)o.append(c,m[c]);Te.post("/projects/",o,{headers:{"content-type":"multipart/form-data"}}).then((function(t){h(t.project.id).then((function(n){console.log("DATA",n),i(g(s,a,n)),alert("The file is successfully uploaded"),e.history.push("/project/".concat(t.project.id))})).catch((function(e){return console.log("ERROR",e)}))})).catch((function(e){console.log(e)}))}else alert("No form values can be empty")}});default:console.log("This is a multi-step form built with React.")}})),ke=n(153),Se=n.n(ke);n(228);var Ne=Object(s.f)((function(e){var t=Object(l.c)((function(e){return e.projects.projectDetails})),n=Object(l.c)((function(e){return e.projects.projects})),r=Object(l.c)((function(e){return e.projects.queryType})),c=Object(l.b)();console.log("PROJECT DETAILS",t);var i={url:"".concat("https://projstemp.herokuapp.com/project","/").concat(t.id),identifier:t.id,title:"Project Showcase"},a=Object(x.a)((function(e){return{card:{border:"2px solid",borderColor:"#E7EDF3",borderRadius:16,transition:"0.4s","&:hover":{borderColor:"#5B9FED"}},image:{height:"100%",width:"100%",borderRadius:8},noImage:{display:"none"},box:{minWidth:"52vw",minHeight:"42vh"},root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}))();return console.log("PROJECT DETAILS",t),Object(W.jsxs)("div",{id:"project-details",children:[Object(W.jsx)("h1",{children:t.title}),Object(W.jsx)("br",{}),Object(W.jsxs)(J.a,{container:!0,spacing:3,children:[Object(W.jsxs)(J.a,{item:!0,md:8,children:[Object(W.jsx)(G.a,{bgcolor:"#F4F7FA",className:a.box,borderRadius:8,children:Object(W.jsx)("img",{id:"img",className:a.image,src:"/".concat(t.image?t.image.url:""),alt:"",onError:function(){document.getElementById("img").style.display="none"}})}),Object(W.jsx)("br",{}),Object(W.jsxs)(J.a,{container:!0,spacing:3,children:[Object(W.jsx)(J.a,{style:{display:"flex",alignItems:"center"},item:!0,xs:8,children:Object(W.jsx)("h3",{children:t.tagline})}),Object(W.jsx)(J.a,{item:!0,xs:4,children:Object(W.jsx)(Q.Row,{children:Object(W.jsx)(Q.Item,{position:"right",children:Object(W.jsxs)(C.a,{onClick:function(){return e=t.id,void Y.a.post("/projects/vote",{project:e}).then((function(t){console.log("RESPONSE",t),h(e).then((function(e){console.log("DATA",e),c(g(n,r,e))}))}));var e},variant:"outlined",children:[Object(W.jsx)(H.a,{}),Object(W.jsx)(V.a,{children:t.allVotes.length})]})})})})]}),Object(W.jsx)("br",{}),Object(W.jsx)("p",{children:t.description})]}),Object(W.jsx)(J.a,{item:!0,md:4,children:Object(W.jsxs)(T.a,{alignItems:"flex-start",style:{paddingTop:0},children:[Object(W.jsx)(se.a,{style:{marginTop:0},children:Object(W.jsx)(A.a,{alt:"Cindy Baker",src:t.user[0].profilePic.url,children:t.user[0].first_name?t.user[0].first_name[0].toUpperCase():t.user[0].username[0].toUpperCase()})}),Object(W.jsx)(w.a,{style:{marginTop:-3},secondary:Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(V.a,{component:"span",className:a.inline,color:"textPrimary",style:{cursor:"pointer"},onClick:function(){return n=t.user[0].id,void e.history.push("/user/".concat(n));var n},children:t.user[0].first_name?t.user[0].first_name+" "+t.user[0].last_name:t.user[0].username}),Object(W.jsx)(V.a,{variant:"body2",children:t.user[0].bio?t.user[0].bio:"CREATOR"})]})})]})})]}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)("hr",{style:{borderTop:"1px"}}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)(Se.a.DiscussionEmbed,{shortname:"projectshowcase",config:i})]})})),Be=n(21),De=(n(229),Object(s.f)((function(e){var t=Object(r.useState)("projects-tab"),n=Object(j.a)(t,2),c=n[0],i=n[1],a=Object(l.b)();Object(r.useEffect)((function(){var t,n=!0;return n&&(t=e.match.params.userId,fetch("/users/".concat(t)).then((function(e){return e.json()}))).then((function(e){a(function(e){return console.log("IN PROFILE ACTION"),{type:"setUserProfile",payload:{data:e}}}(e)),"projects-tab"===c?b(e.id).then((function(e){a(f(e,"popular"))})):m(s.id).then((function(e){a(f(e,"popular"))}))})).catch((function(e){return console.log("Error",e)})),function(){n=!1}}),[c]);var s=Object(l.c)((function(e){return e.users.profile})),u=Object(x.a)((function(e){return{root:{display:"flex",backgroundColor:"#F4F7FA",minHeight:"45vh",boxShadow:"none"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:151},controls:{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:38},img:{width:"13.5vw",height:"13.5vw",borderRadius:200},inline:{display:"inline"},listItemText:{marginLeft:"5%",marginTop:"2%"},name:{fontSize:"28px"},bio:{fontSize:"1rem",marginTop:"6px",marginLeft:"1px"}}}))(),d=(Object(Be.a)(),function(e){i(e),"projects-tab"==e?(document.getElementById("projects-tab").style.borderBottom="1px solid #262626",document.getElementById("upvoted-tab").style.borderBottom="none"):(m(s.id).then((function(e){a(f(e,"popular"))})),document.getElementById("upvoted-tab").style.borderBottom="1px solid #262626",document.getElementById("projects-tab").style.borderBottom="none")});return Object(W.jsxs)("div",{id:"all-components",children:[Object(W.jsx)("div",{children:Object(W.jsxs)(T.a,{alignItems:"flex-start",children:[Object(W.jsx)(se.a,{children:Object(W.jsx)(A.a,{className:u.img,src:s?s.profilePic.url:""})}),Object(W.jsx)(w.a,{className:u.listItemText,secondary:Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(V.a,{component:"span",className:(u.inline,u.name),color:"textPrimary",children:s?s.first_name+" "+s.last_name:""}),Object(W.jsx)(V.a,{variant:"body2",className:u.bio,children:s&&null!=s.bio?s.bio:"CREATOR"})]})})]})}),Object(W.jsx)("div",{id:"profile-nav",children:Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{style:{marginLeft:"0.75rem",borderBottom:"1px solid #262626"},id:"projects-tab",onClick:function(){return d("projects-tab")},children:"Projects"}),Object(W.jsx)("li",{style:{marginLeft:"2rem"},id:"upvoted-tab",onClick:function(){return d("upvoted-tab")},children:"Upvoted"})]})}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{id:"profile-nav-content",children:Object(W.jsx)(ae,{from:"Profile"})})]})})));var Re=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){var t=!0;return t&&fetch("/auth/checkLogin").then((function(e){return e.json()})).then((function(t){t.id&&e({type:"LOGIN",payload:t})})),function(){t=!1}}),[]),Object(W.jsx)(a.a,{children:Object(W.jsxs)("div",{className:"App",children:[Object(W.jsx)(_,{}),Object(W.jsxs)(s.c,{children:[Object(W.jsx)(s.a,{exact:!0,path:"/",component:me}),Object(W.jsx)(s.a,{exact:!0,path:"/project/post-project",component:we}),Object(W.jsx)(s.a,{exact:!0,path:"/project/:projectId",component:Ne}),Object(W.jsx)(s.a,{exact:!0,path:"/user/:userId",component:De})]})]})})},Fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),c(e),i(e)}))},Pe=n(58),Le={user:void 0,loggedIn:void 0},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return e={user:t.payload,loggedIn:!0},localStorage.setItem("User",JSON.stringify(t.payload)),e;case"LOGOUT":return e={user:void 0,loggedIn:!1},localStorage.removeItem("User"),e;default:return e}},We={projects:void 0,queryType:"popular",projectDetails:void 0},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return e={projects:t.payload.projects,queryType:t.payload.queryType};case"SET_PROJECT_DETAILS":return console.log("SET_PROJECT_DETAILS REDUCER",t),e={projects:t.payload.projects,queryType:t.payload.queryType,projectDetails:t.payload.projectDetails};default:return e}},qe={users:void 0,profile:{}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setTopCreators":return e={users:t.payload.data};case"setUserProfile":return console.log("IN PROFILE REDUCER"),e={profile:t.payload.data};default:return e}},Je=Object(Pe.b)({account:Ae,projects:Ue,users:_e}),ze=Object(Pe.c)(Je);i.a.render(Object(W.jsx)(l.a,{store:ze,children:Object(W.jsx)(Re,{})}),document.getElementById("root")),Fe()}},[[230,1,2]]]);
//# sourceMappingURL=main.50b23e91.chunk.js.map